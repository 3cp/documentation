---
name: "Animations: Basics"
description: The basics of using the animation plugin for Aurelia.
author: Avraham Essoudry (https://github.com/avrahamcool)
---

## Introduction - How does Aurelia support animations?

Animations are a the way we bring our application to life.
An animation lets an element gradually change from one style to another, giving the ability to move elements a smooth way, changing the element size, color etc.

A key goal in building animation support for Aurelia was to enable a flexible solution that allows you to choose whatever animation library you like. As a result, you're neither limited to a proprietary API nor to a certain style for how to implement your animations.

To enable this flexibility, Aurelia's animation system is built around a simple [interface](https://github.com/aurelia/templating/blob/master/src/animator.js), which is part of the templating repository:

In this article we'll covers the official animation plugin for Aurelia. This plugin is a concrete implementation of the interface mentioned above.

Many sort of animation can be applied to your elements but in this article we'll demonstrate the common uses of animations in apps using simple css animations.
mainly: animation when navigating between views when we use the router, and animating incoming and outgoing elements of a repeater.

## Installing The Plugin

```Shell
npm install aurelia-animator-css --save
```

or

```Shell
yarn add aurelia-animator-css
```

or

```Shell
jspm install aurelia-animator-css
```

> Info
> If you use the **Aurelia CLI** chances are you already have the plugin installed as a dependency.


> Warning
> If you are using older versions of **Aurelia CLI** with Require/System loaders (prior to v1) you should add `"aurelia-animator-css",` in the dependencies part of the bundle in `aurelia.json` file.


## Configuring The Plugin

1. Make sure you use [manual bootstrapping](http://aurelia.io/docs/fundamentals/app-configuration-and-startup#manual-bootstrapping). In order to do so open your `index.html` and locate the element with the attribute aurelia-app. Change it to look like this:

```HTML index.html
<body aurelia-app="main">...</body>
```

2. Create (if you haven't already) a file `main.js` in your `src` folder with following content:

```JavaScript main.js
import {PLATFORM} from 'aurelia-pal';

export function configure(aurelia) {
  aurelia.use
    .standardConfiguration()
    .developmentLogging()
    .plugin(PLATFORM.moduleName("aurelia-animator-css")); //<-- add this

  aurelia.start().then(a => a.setRoot());
}
```

> Warning
> `PLATFORM.moduleName` should *not* be omitted if you are using *Webpack*.

## Demo
[Animation Demo](https://codesandbox.io/embed/n59o5r3wqj?autoresize=1&fontsize=18&hidenavigation=1&module=%2Fsrc%2Fapp.html&view=preview)[]

## Using The Plugin

First we need to declare some keyframes animation that we can later hook on our elements.

> Warning
> don't forget to add the appropiate vendor prefixes if you target old browsers.

```css animations.css
@keyframes SlideInRight {
  0% {
    transform: translateX(100%);
  }

  100% {
    transform: translateX(0);
  }
}

@keyframes SlideOutRight {
  0% {
    transform: translateX(0);
  }

  100% {
    transform: translateX(100%);
  }
}

@keyframes SlideInLeft {
  0% {
    transform: translateX(-100%);
  }

  100% {
    transform: translateX(0);
  }
}

@keyframes SlideOutLeft {
  0% {
    transform: translateX(0);
  }

  100% {
    transform: translateX(-100%);
  }
}

@keyframes FadeIn {
  0% {
    opacity: 0;
  }

  100% {
    opacity: 1;
  }
}

@keyframes FadeOut {
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
}
```

This are standard and easy to understand css animations, you may not need them all, or you may add new one according to your needs.

now we also need css classes that uses those animations, so we can later add those classes on our elements to activate the animations.

```css animations.css
.animate-slide-in-right.au-enter {
  transform: translateX(100%);
}
.animate-slide-in-right.au-enter-active {
  animation: SlideInRight 1s;
}

.animate-slide-out-right.au-leave-active {
  animation: SlideOutRight 1s;
}

.animate-slide-in-left.au-enter {
  transform: translateX(-100%);
}
.animate-slide-in-left.au-enter-active {
  animation: SlideInLeft 1s;
}

.animate-slide-out-left.au-leave-active {
  animation: SlideOutLeft 1s;
}

.animate-fade-in.au-enter {
  opacity: 0;
}

.animate-fade-in.au-enter-active {
  animation: FadeIn 1s;
}

.animate-fade-out.au-leave-active {
  animation: FadeOut 1s;
}
```

Essentially, all that is needed to make an animation work is to define CSS classes with special predefined suffixes. You get the chance to use preparation classes, added before the actual animation starts as well as activation classes, used to trigger the actual animation. Take a look at the following table for all available options.

| Method      | Description            | Preparation | Activation         |
|-------------|------------------------|-------------|--------------------|
| Enter       | Element enters the DOM | au-enter    | au-enter-active    |
| Leave       | Element leaves the DOM | au-leave    | au-leave-active    |
| addClass    | Adds a CSS class       | n/a         | [className]-add    |
| removeClass | Removes a CSS class    | n/a         | [className]-remove |

## Working with Default Animation Triggers

We need to give our elements the class `au-animate` to tell Aurelia that those elements can be animated.
plus we should apply a spesific animation from one we hve created above (i.e `animate-fade-in`).

now every time those element "enter" or "leave" the DOM - the animation will kick-in.

for example: we may have multiple `li` rendering in a repeater and we would like them to animate in and out using the fading effect we declared above.
we would declare it like that:

```html todos.html
<ul class="au-stagger">
      <li
        repeat.for="todo of todos"
        class="au-animate animate-fade-in animate-fade-out"
      >
        <input type="checkbox" checked.bind="todo.done" />
        <span css="text-decoration: ${todo.done ? 'line-through' : 'none'}">
          ${todo.description}
        </span>
        <button click.trigger="removeTodo(todo)">Remove</button>
      </li>
    </ul>
```

> Info
> notice the `au-stagger` class on the `ul` container. it is used to delay the animation betwen each one of the `li`s so they would not animate in simultaneously

```css animations.css
.au-stagger {
  -webkit-animation-delay: 500ms;
  animation-delay: 500ms;
}
```

if we would like to animate the views that are rendered in a `router-view`, we can use the same method.
we need to add the `au-animate` class on the first child of the view + add the desired entering/exiting animations.

```html todos.html
<template>
  <div class="au-animate animate-slide-in-right animate-slide-out-left">
    ...
  </div>
</template>
```

we also have to set the `swap-order` attribute of the `router-view` element as already described [here](https://aurelia.io/docs/routing/configuration#view-swapping-and-animation)